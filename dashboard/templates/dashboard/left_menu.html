<div class="navbar-default sidebar" role="navigation">
    <div class="sidebar-nav navbar-collapse">
        <ul class="nav" id="side-menu">
            {% for page in pages %}
                <li>
                    {% if editing %}
                        <i class="fa {{ page.icon }} fa-fw"></i>
                        <input name="name" type="text" value="{{ page.name }}" />
                        <div class="btn-group btn-group-xs">
                            <button class="btn btn-default"><i class="glyphicon glyphicon-arrow-down"></i></button>
                            <button class="btn btn-default"><i class="glyphicon glyphicon-arrow-up"></i></button>
                        </div>
                        <input name="visible" {% if page.visible %}checked{% endif %} class="page-visible" data-size="mini" data-on-text="Visible" data-off-text="Hidden" type="checkbox"/>
                    {% else %}
                        <a href="{% url 'dashboard:view-page' page.id %}">
                            <i class="fa {{ page.icon }} fa-fw"></i> {{ page.name }}
                            {% if request.user.is_superuser %}
                                <i style="color:black;" class="pull-right fa fa-fw fa-eye{% if not page.visible %}-slash{% endif %}"></i>
                            {% endif %}
                        </a>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    </div>
</div>

<script>
    require(["jquery", "bootstrap-switch"], function($){
        $("input.page-visible").bootstrapSwitch();

        $(".bootstrap-switch").click(function(event){
            event.preventDefault();
        });
    });
</script>
